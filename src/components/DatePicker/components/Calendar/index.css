@custom-selector :--isToday .isToday;
@custom-selector :--isDisabled .isDisabled;
@custom-selector :--isSingleDate .isSingleDate;
@custom-selector :--isRange .isRange;
@custom-selector :--isFirstDate .isFirstDate;
@custom-selector :--isLastDate .isLastDate;
@custom-selector :--isSelected .isSelected;
@custom-selector :--isHighlighted .isHighlighted;
@custom-selector :--isSelectedBackwards .isSelectedBackwards;
@custom-selector :--isOnlyOneValue .isOnlyOneValue;

.main {
  --cell-size: 28px;
  --cell-padding-left: var(--space-xs);
  --cell-bg-side-offset: calc(var(--cell-padding-left) / 2);
  --color-primary: #56b9f2;
  --color-secondary: #abdbf7;
  --day-bg: transparent;
  --z-date: 0;
  --z-date-bg: calc(var(--z-date) - 1);
  --z-date-sub-bg: calc(var(--z-date-bg) - 1);

  display: flex;

  padding-top: var(--space-xl);
  padding-bottom: var(--space-m);
}

.title {
  margin-bottom: var(--space-s);
}

.month {
  display: flex;
  flex-direction: column;

  & + & {
    margin-left: var(--space-2xl);
  }
}

.row {
  display: flex;

  & + & {
    margin-top: var(--space-xs);
  }

  &.isWithDaynames + & {
    margin-top: var(--space-s);
  }
}

.cell {
  box-sizing: content-box;
  width: var(--cell-size);
  height: var(--cell-size);

  text-align: center;

  &.isWeekDay {
    height: 20px;
  }

  &:--isDisabled {
    cursor: not-allowed;

    opacity: 0.6;
  }

  &.isSelectable {
    cursor: pointer;
  }

  & + & {
    padding-left: var(--cell-padding-left);
  }
}

.cellContent {
  position: relative;
  z-index: var(--z-date);

  display: flex;
  align-items: center;
  justify-content: center;

  width: 100%;
  height: 100%;

  .cell:--isToday &::after {
    --color-today: var(--color-primary);

    position: absolute;
    z-index: var(--z-date-bg);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    content: '';

    border: 1px solid var(--color-today);
    border-radius: 50%;
  }

  .cell:--isToday &:hover::after {
    --color-today: var(--color-secondary);
  }

  :--isSingleDate &::before {
    position: absolute;
    z-index: var(--z-date-sub-bg);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    content: '';

    border-radius: 50%;
    background-color: var(--day-bg);
  }

  :--isSingleDate:--isSelected &::before {
    --day-bg: var(--color-primary);
  }

  :--isSingleDate:--isSelected &:hover::before {
    --day-bg: var(--color-primary);
  }

  :--isSingleDate:not(:--isDisabled) &:hover::before {
    --day-bg: var(--color-secondary);
  }

  :--isRange &::before {
    position: absolute;
    z-index: var(--z-date-sub-bg);
    top: 0;
    right: calc(var(--cell-bg-side-offset) * -1);
    bottom: 0;
    left: calc(var(--cell-bg-side-offset) * -1);

    content: '';

    background-color: var(--day-bg);
  }

  :--isRange:first-child &::before {
    left: 0;
  }

  :--isRange:last-child &::before {
    right: 0;
  }

  :--isRange &::after {
    position: absolute;
    z-index: var(--z-date-bg);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    content: '';

    background-color: var(--day-bg);
  }

  :--isRange:not(:--isDisabled) &:hover::after {
    --day-bg: var(--color-secondary);

    border-radius: 50%;
  }

  :--isRange:--isSelected:--isFirstDate:not(:--isOnlyOneValue) &::before,
  :--isRange:--isSelected:--isLastDate:not(:--isOnlyOneValue) &::before {
    --day-bg: var(--color-secondary);
  }

  :--isRange:--isSelected:--isFirstDate:not(:--isSelectedBackwards) &::before {
    left: 0;

    border-top-left-radius: 50%;
    border-bottom-left-radius: 50%;
  }

  :--isRange:--isSelected:--isFirstDate:--isSelectedBackwards &::before,
  :--isRange:--isSelected:--isLastDate &::before {
    right: 0;

    border-top-right-radius: 50%;
    border-bottom-right-radius: 50%;
  }

  :--isRange:--isSelected:--isFirstDate &::after,
  :--isRange:--isSelected:--isLastDate &::after {
    --day-bg: var(--color-primary);

    border-radius: 50%;
  }

  :--isRange:--isSelected:not(:--isFirstDate):not(:--isLastDate) &::before {
    --day-bg: var(--color-secondary);
  }

  :--isRange:--isSelected:--isOnlyOneValue &::before {
    right: 0;

    border-radius: 50%;
  }

  :--isRange:--isSelected &:hover::after {
    --day-bg: var(--color-primary);
  }

  :--isRange:--isHighlighted &::before {
    --day-bg: var(--color-secondary);
  }

  :--isRange:--isHighlighted:--isFirstDate:not(:--isSelectedBackwards) &::before {
    right: calc(var(--cell-bg-side-offset) * -1);

    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  :--isRange:--isHighlighted:--isFirstDate:--isSelectedBackwards &::before {
    right: 0;

    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  :--isRange:--isHighlighted:--isOnlyOneValue:not(:--isFirstDate):not(:--isSelectedBackwards):hover
    &::after {
    border-top-right-radius: 50%;
    border-bottom-right-radius: 50%;
  }

  :--isRange:--isHighlighted:--isOnlyOneValue:not(:--isFirstDate):--isSelectedBackwards:hover
    &::after {
    border-top-left-radius: 50%;
    border-bottom-left-radius: 50%;
  }

  :--isRange:--isHighlighted:not(:--isSelectedBackwards):hover &::before {
    right: 0;

    border-top-right-radius: 50%;
    border-bottom-right-radius: 50%;
  }

  :--isRange:--isHighlighted:--isSelectedBackwards:hover &::before {
    left: 0;

    border-top-left-radius: 50%;
    border-bottom-left-radius: 50%;
  }
}
