@custom-selector :--container .container;
@custom-selector :--extra-small .sizeXS;
@custom-selector :--small .sizeS;
@custom-selector :--medium .sizeM;
@custom-selector :--large .sizeL;
@custom-selector :--compact-title .compact-title;
@custom-selector :--compact-unit .compact-unit;
@custom-selector :--full .full;
@custom-selector :--full-without-title .full-without-title;
@custom-selector :--full-reversed .full-reversed;

:--container {
  display: grid;

  grid-auto-columns: max-content;

  justify-items: start;

  align-items: end;

  &:--compact-title {
    grid-template-areas:
      'title'
      'number';
  }

  &:--compact-unit {
    grid-template-areas:
      'number'
      'unit';
  }

  &:--full {
    grid-template-areas:
      'title title'
      'number badge'
      'unit unit';
  }

  &:--full-without-title {
    grid-template-areas:
      'number badge'
      'unit unit';
  }

  &:--full-reversed {
    grid-template-areas:
      'title title'
      'number unit'
      'badge badge';

    align-items: baseline;
  }

  &:--extra-small {
    font-size: calc-size(12);
    line-height: calc-size(17);
  }

  &:--small {
    font-size: calc-size(18);
    line-height: calc-size(25);
  }

  &:--medium {
    font-size: calc-size(20);
    line-height: calc-size(28);
  }

  &:--large {
    font-size: calc-size(24);
    line-height: calc-size(34);
  }
}

.title {
  grid-area: title;

  @nest :--full-without-title &, :--compact-unit & {
    display: none;
  }

  @nest :--extra-small & {
    font-size: calc-size(14);
    line-height: calc-size(20);
  }
}

.number {
  grid-area: number;

  font-weight: 700;

  letter-spacing: 0.02em;

  @nest :--extra-small & {
    font-size: calc-size(24);
    line-height: calc-size(34);

    margin-right: calc-size(4);
  }

  @nest :--small &, :--medium & {
    margin-right: calc-size(12);
  }

  @nest :--small & {
    font-size: calc-size(48);
    line-height: calc-size(62);
  }

  @nest :--medium & {
    font-size: calc-size(72);
    line-height: calc-size(82);
  }

  @nest :--large & {
    font-size: calc-size(96);
    line-height: calc-size(115);

    margin-right: calc-size(27);
  }
}

.badge {
  grid-area: badge;

  font-weight: 700;

  @nest :--compact-title &, :--compact-unit & {
    display: none;
  }

  /**
   * Расчитываем отступ от нижнего края когда `bagde` отображается справа,
   * чтобы выровнять его относительно визуального края `.number`.
   */

  @nest :--extra-small & {
    margin-bottom: 0.79em;
    padding: calc-size(1) calc-size(4);
  }

  @nest :--small:not(:--full-reversed) &, :--medium:not(:--full-reversed) & {
    margin-bottom: 0.8em;
  }

  @nest :--large:not(:--full-reversed) & {
    margin-bottom: 1em;
  }
}

.unit {
  grid-area: unit;

  color: rgba(246, 251, 253, 0.6);

  @nest :--compact-title & {
    display: none;
  }
}
