@custom-selector :--container .container;
@custom-selector :--extra-small .sizeXS;
@custom-selector :--small .sizeS;
@custom-selector :--medium .sizeM;
@custom-selector :--large .sizeL;
@custom-selector :--compact-title .compact-title;
@custom-selector :--compact-unit .compact-unit;
@custom-selector :--full .full;
@custom-selector :--full-without-title .full-without-title;
@custom-selector :--full-reversed .full-reversed;

:--container {
  display: grid;

  grid-auto-columns: max-content;

  justify-items: start;

  align-items: baseline;
  grid-column-gap: var(--column-gap);

  /* Лэйауты */

  &:--compact-title {
    grid-template-areas:
      'title'
      'number';
  }

  &:--compact-unit {
    grid-template-areas:
      'number'
      'unit';
  }

  &:--full {
    grid-template-areas:
      'title title'
      'number badge'
      'unit unit';
  }

  &:--full-without-title {
    grid-template-areas:
      'number badge'
      'unit unit';
  }

  &:--full-reversed {
    grid-template-areas:
      'title title'
      'number unit'
      'badge badge';
  }

  /* Размеры */

  &:--extra-small {
    --column-gap: var(--space-2xs);
  }

  &:--small {
    --column-gap: var(--space-s);
  }

  &:--medium {
    --column-gap: var(--space-m);
  }

  &:--large {
    --column-gap: var(--space-m);
  }
}

.title {
  grid-area: title;

  @nest :--full-without-title &, :--compact-unit & {
    display: none;
  }
}

.number {
  grid-area: number;
}

.badge {
  position: relative;
  grid-area: badge;

  @nest :--compact-title &, :--compact-unit & {
    display: none;
  }

  /* Сдвигаем бэдж, чтобы его нижняя граница была по бэйзлайну числа слева */

  @nest :--extra-small:not(:--full-reversed) & {
    bottom: 0.4em;
  }

  @nest :--small:not(:--full-reversed) & {
    bottom: 0.5em;
  }

  @nest :--medium:not(:--full-reversed) & {
    bottom: 0.5em;
  }

  @nest :--large:not(:--full-reversed) & {
    bottom: 0.45em;
  }
}

.unit {
  grid-area: unit;

  @nest :--compact-title & {
    display: none;
  }
}
