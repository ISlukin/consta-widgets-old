import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Документация/Release Flow" />

# Release Flow

## Передача в тест

После получения двух апрувов в PR:
* если у задачи стоит лэйбл `no_test`, последний поставивший апрув мёржит её в стабильную ветку и двигает задачу до статуса `TEST-OK`
* если лэйбла нет и задачу необходимо протестировать, последний апрувер переводит задачу в статус `READY FOR TEST` без мерджа в стабильную ветку и добавляет PR-у лейбл `RFT`.

В данный момент стабильной веткой считается master, после появления реального прода появится новая стабильная ветка, а master станет prod-веткой.

## Тестирование

Задачи из RFT тестируются в обычном режиме и переводятся в `TEST-OK`.

## Выпуск релиза

Дежурный анализирует актуальность PRs из списка задач в Jira по статусу `TEST-OK` и мержит их в стабильную ветку. При необходимости дежурный призывает в тред к релизному-сообщению разработчиков для получения нужной информации или для помощи с возникшими конфликтами в PRs из релиза (простые конфликты можно резолвить самостоятельно).

Дежурный на следующий день назначается текущим дежурным из списка разработчиков (берется следующий из списка). Информация о списке и текущем дежурном фиксируется в шапке канала.

После мерджа всех задач, дежурный сообщает об этом QA в треде к релизному сообщению.
